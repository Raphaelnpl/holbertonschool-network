#!/bin/bash
# Script to update /etc/hosts for custom IP resolutions

# Check if the script is run as root
if [[ $EUID -ne 0 ]]; then
  echo "This script must be run as root" >&2
  exit 1
fi

# Backup the /etc/hosts file
cp /etc/hosts /etc/hosts.bak

# Update localhost to resolve to 127.0.0.2
sed -i '/127\.0\.0\.1\s\+localhost/c\127.0.0.2 localhost' /etc/hosts

# Add facebook.com to resolve to 8.8.8.8
if grep -q 'facebook.com' /etc/hosts; then
  sed -i '/facebook\.com/c\8.8.8.8 facebook.com' /etc/hosts
else
  echo "8.8.8.8 facebook.com" >> /etc/hosts
fi

echo "IP resolution updated. Original /etc/hosts backed up as /etc/hosts.bak"
